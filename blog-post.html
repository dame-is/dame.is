<!-- blog-post.html -->

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" href="/images/favicon.ico" type="image/x-icon">
    <!-- Default Open Graph Metadata (to be dynamically replaced) -->
    <meta property="og:title" content="Blog Post - dame.is">
    <meta property="og:description" content="Read our latest blog post.">
    <meta property="og:image" content="/images/default-og-image.jpg">
    <meta property="og:url" content="https://dame.is/blog">
    <meta property="og:type" content="article">
    
    <meta name="twitter:title" content="Blog Post - dame.is">
    <meta name="twitter:description" content="Read our latest blog post.">
    <meta name="twitter:image" content="/images/default-og-image.jpg">
    <meta name="twitter:card" content="summary_large_image">
    
    <title>Blog Post - dame.is</title>
    <link rel="stylesheet" href="/css/styles.css">
</head>
<body>
    <!-- Navigation -->
    <div id="nav"></div>

    <main>
        <h1 id="post-title">Loading...</h1>
        <p class="blog-post-date" id="post-date">Loading date...</p>
        <div id="post-content">
            <!-- Blog post content will be injected here -->
        </div>
    </main>

    <!-- Footer -->
    <div id="footer"></div>

    <!-- Include necessary scripts -->
    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script> <!-- For Markdown parsing -->
    <script src="https://cdn.jsdelivr.net/npm/gray-matter@4.0.3/browser.js"></script> <!-- For Frontmatter parsing -->
    <script src="/js/main.js"></script> <!-- Ensure this is loaded before inline scripts -->
    <script>
        // Initialize content loading after scripts are loaded
        document.addEventListener('DOMContentLoaded', () => {
            initializeBlogPostFromURL();
        });
    </script>
    <script>
        (function() {
            const path = window.location.pathname;
            const pathParts = path.split('/').filter(part => part !== '');
            const slug = pathParts.length > 1 ? pathParts[1] : null; // Extract slug from /blog/slug
    
            if (slug) {
                initializeBlogPost(slug);
            } else {
                // Handle the case where no slug is provided
                const postTitle = document.getElementById('post-title');
                const postContent = document.getElementById('post-content');
                if (postTitle) postTitle.textContent = 'Post Not Found';
                if (postContent) postContent.innerHTML = '<p>The requested post does not exist.</p>';
            }
        })();
    </script>
</body>
</html>
